(function(){"use strict";var t={9790:function(t,e,r){var n=r(7195),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wrapper"},[e("HelloWorld"),e("svg")],1)])},a=[],i=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"form"},[e("json-editor",{ref:"JsonEditor",attrs:{schema:t.schema},on:{input:t.input},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.start}},[t._v("Start")]),e("el-button",{attrs:{type:"primary"},on:{click:t.share}},[t._v("Share")])],1),e("pre",[t._v(t._s(t.userInput))])],1)},s=[],l=(r(7658),r(5825)),c=r.n(l),u=(r(2262),r(4506),r(1703),r(3847));function d(t){return new Promise((e=>setTimeout(e,t)))}let p,f,h;const g={top:100,right:10,bottom:100,left:10};function m(t){const e=/^[a-zA-Z0-9]+<-*[0-9]*-+[a-zA-Z0-9]+$/g,r=/^[a-zA-Z0-9]+-+[0-9]*-*>[a-zA-Z0-9]+$/g,n=/^[a-zA-Z0-9]+-+[0-9]*-+[a-zA-Z0-9]+$/g,o=/^[a-zA-Z0-9]+/g,a=/[a-zA-Z0-9]$/g,i=/[0-9]+/g;if(t.match(e))return{source:t.match(a).at(0),target:t.match(o).at(0),weight:t.match(i)?parseInt(t.match(i).at(0)):1,isDirected:!0};if(t.match(r))return{source:t.match(o).at(0),target:t.match(a).at(0),weight:t.match(i)?parseInt(t.match(i).at(0)):1,isDirected:!0};if(t.match(n))return{source:t.match(o).at(0),target:t.match(a).at(0),weight:t.match(i)?parseInt(t.match(i).at(0)):1,isDirected:!1};throw new SyntaxError("invalid link syntax")}function y(t){const e=t.map(m),r=new Set;e.forEach((t=>{r.add(t.source),r.add(t.target)}));const n=Array.from(r).map((t=>({id:t,color:"black"})));return{links:e,nodes:n}}function x(t,e){const r=u.Ys("#"+t),n=u.Ys("#"+e),o=r.select("rect"),a=r.select("text"),i=n.select("rect"),s=n.select("text");r.attr("id",e),o.transition().attr("x",i.attr("x")),a.transition().attr("x",s.attr("x")),n.attr("id",t),i.transition().attr("x",o.attr("x")),s.transition().attr("x",a.attr("x"))}function b(t,e){u.Ys("#"+t).transition().attr("fill",e)}function w(t){let e=[];for(let r=0;r<t.length;r++)for(let n=0;n<t.length-1-r;n++){let o,a=!1;t[n]>t[n+1]&&([t[n],t[n+1]]=[t[n+1],t[n]],a=!0),o=n==t.length-2-r?{left:n,right:n+1,result:t.slice(),isSwap:a,finished:t.length-1-r}:{left:n,right:n+1,result:t.slice(),isSwap:a,finished:null},e.push(JSON.stringify(o))}return e}function v(t){let e=[];for(let r=0;r<t.length-1;r++){let n=r;for(let o=r+1;o<t.length;o++)t[o]<t[n]&&(n=o),e.push(JSON.stringify({left:o,right:n,result:t.slice(),isSwap:!1,finished:null}));n!==r&&([t[r],t[n]]=[t[n],t[r]],e.push(JSON.stringify({left:r,right:n,result:t.slice(),isSwap:!0,finished:null}))),e.push(JSON.stringify({left:null,right:null,result:t.slice(),isSwap:!1,finished:r}))}return e.push(JSON.stringify({left:null,right:null,result:t.slice(),isSwap:!1,finished:t.length-1})),e}async function k(t){for(const e of t){const t=JSON.parse(e),r=t.left,n=t.right,o=t.isSwap,a=t.finished;if(null!==a){const t=`textRect${a}`;b(t,"orange")}if(null!==r&&null!==n){const t=`textRect${r}`,e=`textRect${n}`;b(t,"red"),b(e,"red"),await d(500),o&&x(t,e),await d(500),b(t,"black"),b(e,"black")}}b("textRect0","orange")}function S(t){u.td_("circle").data(t,(t=>t.id)).join((()=>{}),(t=>t.transition().attr("stroke",(t=>t.color))))}function O(t){const e=y(t.graph),r=t.start,n=[],o=e.nodes.map((t=>(t.id===r&&(t.color="orange"),t)));n.push(o.map((t=>({...t}))));const a=[r];while(a.length>0){const t=a.shift(),r=e.links.filter((e=>e.isDirected?e.source===t:e.source===t||e.target===t)).map((e=>e.source===t?e.target:e.source)),i=o.filter((t=>r.includes(t.id)));i.forEach((t=>{"black"===t.color&&(t.color="orange",a.push(t.id))})),o.find((e=>e.id===t)).color="red",n.push(o.map((t=>({...t}))))}return n}function $(t){const e=y(t.graph),r=t.start,n=[],o=e.nodes.map((t=>(t.id===r&&(t.color="orange"),t)));n.push(o.map((t=>({...t}))));const a=[r];while(a.length>0){const t=a.pop(),r=e.links.filter((e=>e.isDirected?e.source===t:e.source===t||e.target===t)).map((e=>e.source===t?e.target:e.source)),i=o.filter((t=>r.includes(t.id)));i.forEach((t=>{"black"===t.color&&(t.color="orange",a.push(t.id))})),o.find((e=>e.id===t)).color="red",n.push(o.map((t=>({...t}))))}return n}async function C(t){for(const e of t){const t=JSON.parse(e),r=t.left,n=t.right,o=t.isSwap,a=t.finished;let i=`textRect${r}`,s=`textRect${n}`,l=`textRect${a}`;b(i,"red"),b(s,"red"),await d(500),o&&x(i,s),await d(500),b(i,"black"),b(s,"black"),b(l,"orange"),await d(500)}b("textRect0","orange")}async function j(t){console.log(t);for(const e of t)S(e),await d(1e3)}function A(t){const e=u.Ys("#mainGroup");let r=e.selectAll("g").data(t,((t,e)=>`${t} ${e}`)).join("g").attr("id",((t,e)=>`textRect${e}`)).attr("class","textRect").attr("fill","black");e.append("g").attr("id","left").attr("transform",`translate(${g.left}, ${g.top})`),e.append("g").attr("id","bottom").attr("transform",`translate(${g.left}, ${g.top+h})`);const n=u.BYU().domain([u.Fp7(t),0]).range([0,h]),o=u.tiA().domain(Array.from(t.keys())).range([0,f]);o.paddingInner(.05),o.paddingOuter(.05);const a=u.y4O(n),i=u.LLu(o);u.Ys("#left").call(a),u.Ys("#bottom").call(i),r.append("rect").attr("x",((t,e)=>o(e)+g.left)).attr("y",(t=>n(t)+g.top)).attr("width",o.bandwidth()).attr("height",(t=>h-n(t))),r.append("text").attr("x",((t,e)=>o(e)+g.left+o.bandwidth()/2-12)).attr("y",(t=>n(t)+g.top-2)).text((t=>t))}function J(t,e,r,n,o){const a=Math.atan((n-e)/(r-t)),i=a>=0?n>e?-1:1:n>e?1:-1;return{x:r+i*o*Math.cos(a),y:n+i*o*Math.sin(a)}}function _(t){let e=y(t.graph);const r=u.Ys("#mainGroup"),n=20,o=e.nodes,a=e.links.map((t=>({source:o.find((e=>e.id===t.source)),target:o.find((e=>e.id===t.target)),weight:t.weight,isDirected:t.isDirected}))),i=u.A4v(o).force("charge",u.q5i().strength(-2024)).force("center",u.wqt(f/2,h/2)).force("collision",u.Hh().radius(n)).force("link",u.Fsl(a)).force("x",u.RUJ()).force("y",u.Mrm()).stop(),s=r.append("text").attr("dy","0.35em").attr("text-anchor","middle").attr("font-family","sans-serif").attr("font-size",10).text("Simulating. One moment pleaseâ€¦");u.VsW((()=>{s.remove();for(var t=0,e=Math.ceil(Math.log(i.alphaMin())/Math.log(1-i.alphaDecay()));t<e;++t)i.tick();r.selectAll("line").data(a).join("line").attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.isDirected?J(t.source.x,t.source.y,t.target.x,t.target.y,n+7).x:t.target.x)).attr("y2",(t=>t.isDirected?J(t.source.x,t.source.y,t.target.x,t.target.y,n+7).y:t.target.y)).attr("id",((t,e)=>`link-${e}`)).attr("stroke","#000").attr("stroke-width",2).attr("marker-end",(t=>t.isDirected?"url(#arrowhead)":"")),r.selectAll(".line-weight").data(a).join("text").attr("class","line-weight").attr("x",(t=>(t.source.x+t.target.x)/2)).attr("y",(t=>(t.source.y+t.target.y)/2)).text((t=>t.weight)),r.selectAll("circle").data(o,(t=>t.id)).join((t=>t.append("circle").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",n).attr("id",(t=>`node-${t.id}`)).attr("fill","#fff").attr("stroke",(t=>t.color)).attr("stroke-width",3)),(t=>t.attr("stroke",(t=>t.color)))),r.selectAll(".node-label").data(o).join("text").attr("class","node-label").attr("x",(t=>t.x-5)).attr("y",(t=>t.y+5)).text((t=>t.id))}))}const z={bubbleSort:w,selectionSort:v,bfs:O,dfs:$},M={bubbleSort:C,selectionSort:k,bfs:j,dfs:j},R={bubbleSort:"array",selectionSort:"array",bfs:"graph",dfs:"graph"},D={array:A,graph:_};function N(t){const e=z[t.algorithm](t.data);M[t.algorithm](e),console.log("rendered")}function Z(t){const e=R[t.algorithm];if(void 0===e)return;const r=t.data;D[e](r),console.log("initialized")}function I(t){if(!p){p=u.Ys("svg");const{width:t,height:e}=p.node().getBoundingClientRect();f=t-g.right-g.left,h=e-g.top-g.bottom,p.append("g").attr("id","mainGroup").attr("transform",`translate(${g.left}, ${g.top})`)}p.select("g").selectAll("*").remove(),Z(t)}const T={type:"object",title:"Playground",properties:{algorithm:{title:"Algorithm",type:"string"},data:{type:"object",properties:{graph:{title:"Graph",type:"string"},start:{title:"Start",type:"string"}}}}};var Y={name:"App",components:{JsonEditor:c()},data(){return{schema:T,model:{algorithm:"bfs",data:{graph:"s--v, s--r, s--u, t--r, t--u, u--y, y--v, v--w, r--w, y--x, w--x, w--z, x--z",start:"s"}},errorMsg:""}},computed:{userInput(){const t=JSON.stringify(this.model),e=JSON.parse(t);return e.data.graph=e.data.graph.split(",").map((t=>t.trim())),e}},methods:{start(){N(this.userInput)},share(){navigator.clipboard.writeText(JSON.stringify(this.model)).then((()=>{alert("json copy to clipboard")}),(()=>{alert("cannot copy to clipboard")}))},input(){I(this.userInput)}},mounted(){I(this.userInput),c().setComponent("form","el-form",(({vm:t})=>{const e="120px",r=t.data,n={};function o(t){Object.keys(t).forEach((e=>{if(0===e.indexOf("$")&&"$sub"!==e)return;const r=t[e];if(r.$sub)return o(r);if(!r.name)return;n[r.name]=[];const a="array"===r.schemaType&&"radio"===r.type?"string":r.schemaType,i=r.required,s=r.title,l=["radio","checkbox","select"].includes(r.type)?"change":"blur";if(n[r.name].push({type:a,required:i,message:s,trigger:l}),void 0!==r.minlength||void 0!==r.maxlength){const t=r.maxlength||255,e=r.minlength||0,o=`Length must between ${e} and ${t}`;n[r.name].push({min:e,max:t,message:o,trigger:l})}}))}return o(t.fields),{labelWidth:e,rules:n,model:r}})),c().setComponent("label","el-form-item",(({field:t})=>({prop:t.name}))),c().setComponent("email","el-input"),c().setComponent("url","el-input"),c().setComponent("number","el-input-number"),c().setComponent("text","el-input"),c().setComponent("textarea","el-input"),c().setComponent("checkbox","el-checkbox"),c().setComponent("checkboxgroup","el-checkbox-group"),c().setComponent("radio","el-radio"),c().setComponent("select","el-select"),c().setComponent("switch","el-switch"),c().setComponent("color","el-color-picker"),c().setComponent("rate","el-rate"),c().setComponent("slider","el-slider"),c().setComponent("option","el-option"),c().setComponent("title","h2"),c().setComponent("description","small")}},E=Y,P=r(1001),q=(0,P.Z)(E,i,s,!1,null,"56fd6893",null),G=q.exports,W={name:"App",components:{HelloWorld:G}},F=W,H=(0,P.Z)(F,o,a,!1,null,null,null),L=H.exports,B=r(5114),U=r.n(B);n["default"].use(U()),n["default"].config.productionTip=!1,new n["default"]({render:t=>t(L)}).$mount("#app")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,function(){r.amdO={}}(),function(){var t=[];r.O=function(e,n,o,a){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],a=t[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,o,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,i=n[0],s=n[1],l=n[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);c<i.length;c++)a=i[c],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(u)},n=self["webpackChunkjsonui"]=self["webpackChunkjsonui"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(9790)}));n=r.O(n)})();
//# sourceMappingURL=app.66d9b233.js.map